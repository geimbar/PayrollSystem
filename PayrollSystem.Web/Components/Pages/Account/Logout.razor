@page "/logout"
@rendermode InteractiveServer

@using MudBlazor
@using PayrollSystem.Infrastructure.Services
@inject IAccountService AccountService
@inject NavigationManager Navigation


<PageTitle>Logging out...</PageTitle>

<MudContainer MaxWidth="MaxWidth.Small" Class="mt-16">
    <MudPaper Elevation="3" Class="pa-8 text-center">
        <MudProgressCircular Indeterminate="true" Size="Size.Large" />
        <MudText Typo="Typo.h6" Class="mt-4">Signing you out...</MudText>
    </MudPaper>
</MudContainer>

@code {
    protected override async Task OnInitializedAsync()
    {
        await AccountService.LogoutAsync();
        Navigation.NavigateTo("/login", forceLoad: true);
    }
}
